FROM openjdk:8-alpine
FROM maven:3.6.1-jdk-8
EXPOSE 8080
ADD ./pubweb-user-service ./pubweb-user-service
ADD ./commons ./commons
RUN mvn clean install -f commons/pom.xml -DskipTests
RUN mvn clean install -f pubweb-user-service/pom.xml -DskipTests
ENTRYPOINT ["java","-jar", "-Dspring.profiles.active=docker","pubweb-user-service/target/pubweb-user-service-0.0.1.jar"]
